<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=BBH+Sans+Hegarty&family=Playwrite+US+Modern:wght@100..400&display=swap" rel="stylesheet">
  <title>Pet Paths</title>
  <style>
    :root {
		    	--primary: #4a4fcf;
		  	--primary-dark: #3a3fb0;
		  	--bg: #f3f3f3;
		  	--text: #222;
		  	--btn-text: #fff;
		  	--header-bg: #4a4fcf;
		  	--header-text: #fff;
		  }
      [data-theme="dark"] {
        --primary: #222b45;
        --primary-dark: #151a30;
        --bg: #181a20;
        --text: #f3f3f3;
        --btn-text: #fff;
        --header-bg: #222b45;
        --header-text: #fff;
      }
			[data-theme="forest"] {
				--primary: #388e3c;
				--primary-dark: #256029;
				--bg: #e8f5e9;
				--text: #1b3a1b;
				--btn-text: #fff;
				--header-bg: #388e3c;
				--header-text: #fff;
			}
			[data-theme="ocean"] {
				--primary: #1976d2;
				--primary-dark: #0d47a1;
				--bg: #e3f2fd;
				--text: #0d223a;
				--btn-text: #fff;
				--header-bg: #1976d2;
				--header-text: #fff;
			}
			[data-theme="rose"] {
				--primary: #d81b60;
				--primary-dark: #880e4f;
				--bg: #fff1f6;
				--text: #3a1b2f;
				--btn-text: #fff;
				--header-bg: #d81b60;
				--header-text: #fff;
			}
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-height: 100vh;
      text-align: center;
      transition: background 0.3s, color 0.3s;
    }

    .container {
      padding: 20px;
      flex: 1;
    }

    h1 {
      margin-top: 40px;
      font-size: 2rem;
      font-weight: bold;
    }

    p {
      font-size: 1rem;
      margin: 20px 0;
      line-height: 1.5;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    .btn {
      display: block;
      width: fit-content;
      margin: 15px auto;
      padding: 12px 20px;
      background-color: var(--primary);
      color: var(--btn-text);
      border: none;
      border-radius: 10px;
      font-size: 1rem;
      cursor: pointer;
      text-decoration: none;
      transition: background 0.3s, color 0.3s;
    }

    .btn:hover {
      background-color: var(--primary-dark);
    }

    /* Bottom nav bar */
    .footer {
      background-color: var(--primary);
      display: flex;
      justify-content: space-around;
      align-items: flex-end;
      padding: 14px 0 10px;
      position: fixed;
      bottom: 0;
      width: 100%;
      transition: background 0.3s;
    }

    .footer a {
      text-decoration: none;
      color: black;
      font-size: 24px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      z-index: 2;
      transition: transform 0.3s ease, font-size 0.3s ease;
    }

    .footer a i {
      position: relative;
      z-index: 3; /* icons always above circle */
      transition: transform 0.3s ease, font-size 0.3s ease;
    }

    /* Circle behind active icon */
    .footer a.active::before {
      content: "";
      width: 50px;
      height: 50px;
      background-color: var(--primary);
      border-radius: 50%;
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1;
    }

    /* Active icon larger + slight lift */
    .footer a.active i {
      font-size: 30px;
      transform: translateY(-5px);
    }

    /* Responsive tweaks */
    @media (max-width: 768px) {
      h1 {
        font-size: 1.6rem;
      }
      p {
        font-size: 0.95rem;
        padding: 0 10px;
      }
      .btn {
        font-size: 0.95rem;
        padding: 10px 18px;
      }
      .footer a {
        font-size: 22px;
      }
      .footer a.active::before {
        width: 40px;
        height: 40px;
        top: -22px;
      }
      .footer a.active i {
        font-size: 28px;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.4rem;
      }
      p {
        font-size: 0.9rem;
      }
      .btn {
        font-size: 0.9rem;
        padding: 9px 16px;
      }
      .footer a {
        font-size: 20px;
      }
      .footer a.active::before {
        width: 36px;
        height: 36px;
        top: -20px;
      }
      .footer a.active i {
        font-size: 26px;
      }
    }
    .name {
      font-family: "BBH Sans Hegarty", sans-serif;
      font-weight: 400;
      font-style: normal;
    }
    .whatsapp-btn {
      display: inline-flex;
      align-items: center;
      background-color: #25D366;
      color: white;
      padding: 10px 18px;
      border-radius: 6px;
      text-decoration: none;
      font-size: 16px;
      font-family: Arial, sans-serif;
      transition: background 0.2s ease;
    }
    .whatsapp-btn:hover {
      background-color: #1ebe5d;
    }
    .whatsapp-btn i {
      margin-right: 8px;
      font-size: 20px;
    }
    .github-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: #24292f;      /* GitHub dark */
      color: #fff;
      padding: 10px 14px;
      border-radius: 6px;
      text-decoration: none;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      font-weight: 600;
      font-size: 15px;
      transition: transform .08s ease, box-shadow .12s ease, background .12s ease;
    }
    .github-btn:hover { background: #1b1f23; transform: translateY(-1px); }
    .github-btn:active { transform: translateY(0); }
    .github-btn:focus {
      outline: 3px solid rgba(36,41,47,0.18);
      outline-offset: 3px;
    }
    .github-btn .gh-icon { font-size: 18px; }

    /* Floating round icon (bottom-right) */
    .github-float {
      position: fixed;
      right: 18px;
      bottom: 18px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: #24292f;
      color: white;
      text-decoration: none;
      box-shadow: 0 10px 24px rgba(36,41,47,0.18);
      z-index: 1000;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .github-float:hover { transform: translateY(-3px); box-shadow: 0 14px 34px rgba(36,41,47,0.22); }
    .github-float:focus { outline: 3px solid rgba(36,41,47,0.18); outline-offset: 3px; }
    .github-float i { font-size: 22px; }
  </style>

  <!-- Font Awesome -->
  <link 
    rel="stylesheet" 
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer" 
  />
</head>
<body>
  <script>
    // Theme loader for all pages
    (function() {
      const theme = localStorage.getItem('petpaths_theme') || 'light';
      document.documentElement.setAttribute('data-theme', theme);
    })();
  </script>
  <div class="container">
    <h2>Welcome to</h2> 
    <h1 class="name"><i><u>pet paths!</u></i></h1>
    <p>
      We are devoted to bringing safer dog walks to the world.  
      By using Pet Paths you are contributing to our vision of  
      creating happier communities for pets and their owners.  
      Every walk, every report, and every connection makes a difference.
    </p>

    <a href="walks.html" class="btn">Share your dog walk</a>
    <p>or:</p>
    <a href="playdates.html" class="btn">Propose a doggy play date</a>
    <br>
    <hr>
    <center>
      <blockquote style="font-size: 0.9rem; color: gray; max-width: 400px; margin: 10px auto;">
        small message from Oliver:
      </blockquote>
      Hi! Your support means a lot. If Pet Paths has made your walks a little brighter, join our WhatsApp community to stay connected and give our GitHub project a star â€” it really helps us keep improving!
    </center>
    <hr>
    <br>
    <a href="https://whatsapp.com/channel/0029VbBAxdpLikgAGCMZuM16"
      class="whatsapp-btn"
      target="_blank"
      rel="noopener noreferrer">
      <i class="fa-brands fa-whatsapp"></i>
      Join our WhatsApp Channel
    </a>
    <br>
    <br>
    <a
      class="github-btn"
      href="https://github.com/oliver-lebaigue-pet-paths/pet-paths-new"
      target="_blank"
      rel="noopener noreferrer"
      aria-label="Open GitHub repository pet-paths-new"
      title="View on GitHub"
    >
      <i class="fa-brands fa-github gh-icon" aria-hidden="true"></i>
      View repo on GitHub
    </a>
    <br>
    <blockquote style="font-size: 0.9rem; color: gray; max-width: 400px; margin: 10px auto;">
      (You can do both, of course!)
    </blockquote>
  </div>

  <div class="footer">
    <a href="settings.html"><i class="fa-solid fa-gear"></i></a>
    <a href="playdates.html"><i class="fa-solid fa-calendar"></i></a>
    <a href="walks.html"><i class="fa-solid fa-dog"></i></a>
    <a href="index.html" class="active"><i class="fa-solid fa-house"></i></a>
    <a href="profiles.html"><i class="fa-solid fa-user"></i></a>
    <a href="feedback.html"><i class="fa-solid fa-clipboard-list"></i></a>
    <a href="admin.html"><i class="fa-solid fa-user-shield"></i></a>
  </div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

    const firebaseConfig = { /* your config */ };
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const clientId = "client_" + Math.random().toString(36).slice(2);
    let lastHandled = localStorage.getItem("last_refresh_id") || "0";

    onValue(ref(db, "admin/refresh"), snap => {
      const data = snap.val();
      if (!data || !data.value) return;

      const refreshId = String(data.value);
      if (refreshId === lastHandled) return; // already handled this one

      if (data.value !== 0 && data.sender !== clientId) {
        localStorage.setItem("last_refresh_id", refreshId);
        location.reload();
      }
    });
  </script>
</body>
</html>